Search.setIndex({"docnames": ["ApertureOptimisation", "DeveloperNotes", "DevelopmentExample", "EnvironmentSetup", "NoisyOptimisation", "PhaseSpaceOptimisation", "code_docs", "index", "next_steps", "worked_examples"], "filenames": ["ApertureOptimisation.md", "DeveloperNotes.md", "DevelopmentExample.md", "EnvironmentSetup.md", "NoisyOptimisation.md", "PhaseSpaceOptimisation.md", "code_docs.rst", "index.rst", "next_steps.md", "worked_examples.rst"], "titles": ["Geometry Optimisation Example", "Developer Notes", "Development example", "Environment set up", "Handling noisy data", "Phase space optmisation example", "Code documentation", "Optimisation for Topas", "Next steps", "Worked Examples"], "terms": {"The": [0, 1, 2, 4, 5, 6, 7, 8], "start": [0, 3, 4, 5, 6, 7], "point": [0, 1, 2, 4, 5, 6, 8], "an": [0, 1, 2, 4, 5, 6, 7], "i": [0, 1, 2, 3, 4, 5, 6, 7, 8], "work": [0, 1, 3, 4, 6, 7, 8], "In": [0, 4, 5, 8], "thi": [0, 1, 2, 3, 4, 5, 6, 7, 8], "we": [0, 1, 2, 3, 4, 5, 8], "ar": [0, 1, 2, 3, 4, 5, 6, 8], "go": [0, 4, 5, 7, 8], "simpl": [0, 3, 5, 8], "x": [0, 2, 5, 6, 8], "rai": [0, 5], "collim": [0, 4], "randomis": 0, "valu": [0, 2, 4, 5, 6, 8], "shown": [0, 5], "read": [0, 1, 4, 6], "see": [0, 1, 2, 3, 4, 5, 6, 7, 8], "can": [0, 1, 2, 3, 4, 5, 6, 8], "recov": [0, 4, 5], "correct": 0, "us": [0, 1, 2, 3, 4, 5, 6, 7, 8], "bayesian": [0, 2, 4, 5, 6, 8], "To": [0, 1, 4, 6, 7], "guid": 0, "object": [0, 5, 6, 7, 9], "function": [0, 1, 2, 5, 6, 7, 9], "which": [0, 1, 2, 3, 4, 5, 6, 8], "simpli": [0, 6], "measur": 0, "differ": [0, 2, 5, 6, 8, 9], "between": [0, 4, 5, 6, 8], "origin": [0, 5], "depth": [0, 6], "dose": [0, 5, 6], "curv": [0, 6], "profil": [0, 5, 6], "those": 0, "given": [0, 5], "paramet": [0, 4, 5, 6, 8], "If": [0, 1, 4, 5, 6, 8], "you": [0, 1, 2, 3, 4, 5, 6, 8], "experienc": 0, "python": [0, 1, 3, 6], "user": [0, 2, 5, 6, 7], "should": [0, 1, 3, 4, 5, 6, 8], "allow": [0, 2, 3, 5, 6, 8], "1": [0, 2, 3, 4, 5, 6, 8], "2": [0, 2, 3, 4, 5, 8], "hour": [0, 8], "get": [0, 1, 4, 5, 6, 7, 8], "much": [0, 5, 8], "quicker": [0, 8], "onc": [0, 4], "hang": 0, "take": [0, 4, 5, 6, 8], "me": [0, 1, 6], "about": [0, 4, 5, 8], "15": [0, 4], "minut": 0, "actual": [0, 2, 4, 5, 8], "4": [0, 5], "decent": 0, "comput": [0, 5, 8], "need": [0, 1, 3, 4, 5, 6], "help": [0, 2, 7], "your": [0, 1, 2, 3, 4, 5, 6, 8], "environ": [0, 6, 7], "here": [0, 1, 2, 3, 4, 5, 6, 7, 8], "below": [0, 1, 4, 5, 6, 8], "target": [0, 4, 5], "red": 0, "each": [0, 4, 5, 6, 8], "thick": [0, 4], "54": 0, "mm": [0, 4, 5], "stream": 0, "apertur": [0, 5], "radiu": 0, "82": [0, 2, 4], "down": 0, "5": [0, 2, 4, 5, 6, 8], "two": [0, 4, 8], "stage": 0, "one": [0, 1, 2, 3, 4, 6, 8], "electron": [0, 5], "beam": [0, 4, 5], "hit": 0, "score": [0, 6], "secondari": 0, "phase": [0, 6, 7, 9], "space": [0, 6, 7, 8, 9], "simul": [0, 5, 6, 8, 9], "water": [0, 5, 6], "tank": [0, 5, 6], "first": [0, 1, 4, 5, 6, 8], "assign": 0, "random": [0, 5], "attempt": [0, 4, 6], "construct": [0, 6, 8, 9], "current": [0, 2, 8], "iter": [0, 2, 4, 5, 6, 8], "folder": [0, 4, 6], "somewher": 0, "call": [0, 1, 2, 4, 5, 6, 8], "instanc": [0, 4, 5, 6, 8], "apertureoptexampl": 0, "whatev": [0, 3, 6], "want": [0, 1, 2, 3, 4, 5, 6, 8], "where": [0, 2, 4, 5, 6, 8], "store": [0, 4, 5, 6], "all": [0, 1, 4, 5, 6, 7], "code": [0, 1, 2, 3, 4, 7, 8], "necessari": [0, 4], "rest": [0, 1, 6], "instruct": [0, 3, 6, 7, 8], "assum": [0, 5, 8], "when": [0, 2, 3, 4, 8], "have": [0, 1, 2, 4, 5, 6, 8], "finish": 0, "through": [0, 3, 6, 7, 8], "look": [0, 4, 5, 8], "like": [0, 1, 5, 6, 8], "know": [0, 4, 5, 8], "applic": 0, "avail": [0, 6, 8], "download": [0, 4], "unzip": 0, "place": [0, 1, 4, 5, 6], "content": 0, "insid": [0, 1, 3, 4, 6], "note": [0, 4, 5, 6, 7, 8], "principl": [0, 8], "resid": 0, "anywher": [0, 6], "onli": [0, 1, 3, 4, 5, 6, 8], "make": [0, 1, 2, 3, 4, 5, 6, 8], "possibl": [0, 1, 8], "hint": 0, "command": [0, 1, 3, 6], "window": [0, 3], "follow": [0, 1, 4, 5, 6, 8], "wget": 0, "o": [0, 4, 5, 6], "start_fil": 0, "zip": 0, "http": [0, 3, 6], "zenodo": 0, "org": [0, 6], "record": [0, 5], "10369317": 0, "simplecollimatorexample_topasfil": [0, 4, 5], "line": [0, 1, 4, 5, 6], "rm": [0, 1, 5], "thing": [0, 4, 5, 6, 8], "gener": [0, 5, 6, 8, 9], "script": [0, 4, 5, 6, 8], "temp": [0, 2, 4, 5, 8], "_": [0, 1, 2, 4, 5, 8], "name": [0, 1, 3, 4, 6], "isn": 0, "t": [0, 1, 2, 4, 5, 6, 8], "import": [0, 1, 2, 3, 4, 5, 8], "interact": 0, "consol": 0, "prefer": [0, 1], "from": [0, 1, 2, 3, 4, 5, 6, 8], "topasopt": [0, 1, 2, 3, 5, 6, 7, 8, 9], "topasscriptgener": [0, 7], "generate_topas_script_gener": [0, 6], "pathlib": [0, 2, 4, 5, 6], "path": [0, 2, 4, 5, 6], "this_directori": 0, "__file__": [0, 2, 4, 5], "parent": [0, 2, 4, 5], "figur": [0, 4, 6, 8], "out": [0, 5, 8], "locat": [0, 4, 6], "nb": [0, 1], "order": [0, 4, 5, 6], "sure": [0, 1, 3, 4, 6], "correctli": [0, 6], "classifi": 0, "thei": [0, 1, 2, 4, 6, 8], "enter": [0, 3, 6], "same": [0, 2, 4, 5, 6], "simplecollim": [0, 4, 5], "tp": [0, 4], "watertank": [0, 4, 5], "tip": [0, 3], "createtopasscript": 0, "head": [0, 8], "hurt": 0, "alon": 0, "now": [0, 3, 4, 5, 8], "open": [0, 1, 4, 5], "ha": [0, 1, 2, 4, 5, 8], "done": [0, 5], "input": [0, 5, 6], "list": [0, 1, 6, 8], "return": [0, 2, 5, 6, 8], "At": [0, 8], "moment": [0, 8], "": [0, 1, 3, 4, 5, 6, 8], "veri": [0, 2, 3, 4, 5, 8], "becaus": [0, 4, 5, 8], "everi": [0, 1, 5, 6], "time": [0, 4, 5, 8], "exactli": [0, 1], "chang": [0, 3, 4, 5, 6, 8], "bit": [0, 4], "later": [0, 3, 4, 8], "good": [0, 1, 4, 5, 8], "idea": [0, 1, 8], "test": [0, 2, 3, 4, 5, 7], "directli": [0, 1, 6], "almost": [0, 2, 4, 6], "ident": [0, 4, 8], "A": [0, 2, 6, 8], "few": [0, 1, 3, 8], "made": 0, "so": [0, 1, 4, 5, 6, 8], "easili": [0, 3], "keep": [0, 5], "track": 0, "etc": [0, 6, 8], "delet": [0, 1, 6], "its": [0, 6], "job": [0, 4, 5, 8], "warn": [0, 5, 6], "There": [0, 3, 4, 6], "probabl": [0, 1, 2, 4, 5, 8], "situat": [0, 4, 8], "doe": [0, 1, 2, 4, 8], "handl": [0, 1, 6, 7, 9], "well": [0, 3, 4, 5, 7, 8], "For": [0, 2, 4, 5, 6, 7], "cad": 0, "unsupport": 0, "think": [0, 8], "draft": 0, "mai": [0, 4, 5, 8], "do": [0, 1, 2, 3, 4, 5, 6, 8], "some": [0, 1, 4, 6, 8], "further": [0, 4, 8], "what": [0, 1, 4, 6, 8], "new": [0, 2, 3, 4, 5, 7, 8], "main": [0, 1, 2, 3, 6], "numpi": [0, 2, 4, 5, 6], "np": [0, 2, 4, 5, 6], "basedirectori": [0, 2, 4, 5, 6, 8], "home": [0, 2, 4, 6, 8], "brendan": [0, 2, 4, 5, 8], "document": [0, 2, 3, 4, 5, 7, 8], "simulationnam": [0, 2, 4, 5, 6, 8], "nmtest": [0, 8], "optimisationdirectori": [0, 2, 4, 5, 6, 8], "param": [0, 2, 4, 5, 6], "optimisation_param": [0, 2, 4, 5, 6, 8], "parameternam": [0, 2, 4, 5], "upstreamapertureradiu": [0, 4], "downstreamapertureradiu": [0, 4], "collimatorthick": [0, 4], "upperbound": [0, 2, 4, 5], "arrai": [0, 2, 4, 5, 6, 8], "3": [0, 3, 4, 5, 8], "40": [0, 4, 8], "lowerbound": [0, 2, 4, 5], "10": [0, 4, 5, 6, 8], "our": [0, 4, 5, 8], "bound": [0, 5], "doesn": [0, 2, 5, 8], "just": [0, 1, 2, 3, 4, 5, 6, 8], "demonstr": [0, 1, 2, 3, 5, 8], "purpos": [0, 5], "random_start_point": [0, 5], "default_rng": [0, 5], "uniform": [0, 5], "start_point": [0, 2, 4, 5], "46": 0, "62": 0, "35": 0, "rememb": [0, 1, 2, 4, 5], "true": [0, 2, 4, 5, 6, 8], "27": [0, 2, 4], "nitter": [0, 2, 4, 5], "suggest": [0, 2, 5], "won": [0, 2, 5, 6], "readmetext": [0, 2, 4, 5, 6, 8], "public": [0, 1, 5], "servic": [0, 5], "announc": [0, 5], "bayesianoptimis": [0, 4, 5, 6, 7], "geometryoptimisationtest_bay": 0, "topasloc": [0, 2, 4, 5, 6, 8], "topas37": [0, 5, 8], "overwrit": [0, 2, 4, 5, 6, 8], "bayes_length_scal": [0, 6], "0": [0, 2, 3, 4, 5, 6, 8], "full": 0, "option": [0, 3, 6, 8], "case": [0, 1, 2, 4, 6, 7, 8], "describ": [0, 5, 6], "dictionari": [0, 6, 8], "particular": [0, 6, 8], "autom": 0, "hard": 0, "text": [0, 6], "suppos": 0, "pretti": [0, 4, 5, 6, 8], "come": [0, 3, 8], "back": [0, 1, 3, 4, 8], "month": 0, "mean": [0, 4, 5, 8], "empti": [0, 2, 6], "ani": [0, 1, 4, 6, 7, 8], "fals": [0, 2, 6], "ask": [0, 4, 6], "default": [0, 3, 4, 6, 8], "keepallresult": [0, 2, 4, 6], "last": [0, 4, 5, 6, 8], "kept": [0, 6], "log": [0, 4, 5, 6], "either": [0, 2, 4, 6], "earlier": [0, 8], "regener": [0, 6], "abl": [0, 3, 8], "receiv": 0, "build": [0, 7, 8], "reflect": [0, 8], "therefor": [0, 4, 5], "whenev": [0, 8], "pass": [0, 1, 6, 8, 9], "contain": [0, 4, 6], "variabl": [0, 6, 8], "defin": [0, 1, 5, 6], "accordingli": 0, "firstli": 0, "three": [0, 5, 6, 8], "append": [0, 4, 5], "d": [0, 3], "ge": 0, "secondarycollim": 0, "rmin2": 0, "str": [0, 4, 5, 6], "variable_dict": [0, 2, 4, 5], "rmin1": 0, "hl": 0, "notic": 0, "These": [0, 1, 3, 5, 8], "anyth": [0, 1, 8], "consist": 0, "more": [0, 1, 4, 5, 6, 8], "500000": [0, 5], "primari": [0, 4], "particl": [0, 4, 5], "split": [0, 4, 5], "1000": 0, "recycl": 0, "200": 0, "took": 0, "around": 0, "16": [0, 6], "multi": [0, 8], "thread": 0, "core": 0, "don": [0, 1, 4, 6, 8], "especi": [0, 5, 8], "high": [0, 5, 8], "qualiti": 0, "optims": [0, 2], "m": [0, 1, 3], "reduc": [0, 4, 5, 8], "number": [0, 1, 4, 5, 6, 8], "factor": 0, "ic": [0, 4, 5], "numberofhistoriesinrun": [0, 4, 5], "50000": [0, 4], "mani": [0, 3, 5, 6, 8], "desir": [0, 5, 8], "check": [0, 3, 6, 8], "complet": [0, 4, 5, 8], "befor": [0, 8], "computation": 0, "intens": 0, "could": [0, 4, 5, 8], "e": [0, 1, 3, 4, 5, 6, 8], "g": [0, 1, 3, 4, 5, 6, 8], "100": [0, 2, 4, 5, 8], "optim": [0, 4, 5, 6], "trade": [0, 4, 5], "off": [0, 4, 5, 8], "nois": [0, 5, 9], "someth": [0, 3], "quit": [0, 5], "while": [0, 8], "right": [0, 8], "It": [0, 6, 8], "assess": [0, 1, 9], "varianc": [0, 4], "against": 0, "accuraci": 0, "hope": [0, 8], "obtain": [0, 5], "experi": [0, 8], "final": [0, 6], "matter": [0, 6, 8], "must": [0, 2, 6], "inptut": 0, "meet": 0, "requir": [0, 6, 7, 8], "def": [0, 1, 2, 4, 5], "resultsloc": [0, 2, 5], "randn": 0, "Of": [0, 8], "cours": [0, 8], "useless": 0, "sinc": [0, 5, 8], "noth": [0, 2], "But": [0, 5, 8], "illustr": 0, "sensibl": 0, "latest": 0, "extract": [0, 6], "metric": [0, 5], "them": [0, 1, 4, 5, 6, 8], "calcul": [0, 5, 6], "fulfil": 0, "criteria": [0, 7], "updat": [0, 1, 3, 4, 5], "groundtruthdatapath": [0, 4, 5], "wherev": [0, 4, 5], "util": [0, 4, 5, 7, 8], "watertankdata": [0, 5, 6], "calculateobjectivefunct": [0, 5], "topasresult": [0, 5], "groundtruthresult": [0, 5], "am": [0, 4, 5], "error": [0, 1, 3, 4, 5, 6, 8], "pdd": [0, 5], "normalis": [0, 5], "account": [0, 4, 5], "fact": [0, 4, 5], "collect": [0, 5, 6], "xpt": [0, 5, 6], "linspac": [0, 5], "min": [0, 5], "max": [0, 5], "over": [0, 4, 5, 6, 8], "entir": [0, 5], "rang": [0, 4, 5, 6, 8], "ypt": [0, 5, 6], "zero": [0, 4, 5], "shape": [0, 4, 5, 6, 8], "zpt": [0, 5, 6], "phantomsizez": [0, 5, 6], "ones": [0, 4, 5, 6], "middl": [0, 5, 6], "originalprofil": [0, 5], "extractdatafromdosecub": [0, 5, 6], "originalprofilenorm": [0, 5], "currentprofil": [0, 5], "currentprofilenorm": [0, 5], "profilediffer": [0, 5], "dd": [0, 5], "z": [0, 5, 6], "originaldepthdos": [0, 5], "currentdepthdos": [0, 5], "originaldepthdosenorm": [0, 5], "currentdepthdosenorm": [0, 5], "depthdosediffer": [0, 5], "objectivefunct": [0, 5], "ab": [0, 5], "resultsfil": [0, 5], "f": [0, 4, 5], "watertank_itt_": [0, 5], "bin": [0, 3, 4, 5, 6], "currentresult": [0, 5], "groundtruthdatafil": [0, 5], "OF": [0, 4, 5], "serv": 0, "templat": 0, "develop": [0, 4, 7, 9], "own": [0, 1, 2, 6, 8], "mention": 0, "long": [0, 4, 5], "sum": 0, "absolut": [0, 4, 5, 6, 8], "iso": 0, "center": 0, "both": [0, 4, 5, 8], "being": [0, 8], "guarante": 0, "wai": [0, 2, 3, 4, 5, 6, 7, 8], "impress": 0, "friend": 0, "famili": 0, "tell": [0, 8], "l1": 0, "norm": 0, "block": 0, "runoptimisation_main": 0, "although": [0, 1, 5, 8], "tri": 0, "rel": [0, 1, 5], "light": [0, 5], "weight": [0, 8], "still": [0, 4, 5, 8], "substanti": [0, 4], "server": 0, "ran": 0, "cpu": 0, "per": [0, 4, 8], "aggress": 0, "reduct": 0, "alwai": [0, 4], "care": [0, 4], "implement": [0, 1, 2, 6, 8], "techniqu": [0, 8], "ok": [0, 4], "ve": 0, "gone": 0, "awai": 0, "drunk": 0, "sever": [0, 5], "beer": 0, "wa": [0, 2, 4, 8], "readi": 0, "how": [0, 1, 2, 3, 4, 5, 8], "did": [0, 1, 2, 4, 5], "navig": 0, "explan": [0, 5, 6], "topaslog": 0, "output": [0, 6], "sim": [0, 2, 4], "ever": [0, 1], "crash": 0, "why": [0, 5], "singleparameterplot": [0, 5], "estim": [0, 4, 5], "other": [0, 2, 4, 5, 6, 8], "held": [0, 5], "By": [0, 8], "lot": [0, 2, 4, 5, 6, 8], "unnecessari": 0, "topasscript": 0, "convergenceplot": 0, "png": [0, 8], "show": [0, 4, 5, 6], "predict": [0, 4, 5, 8], "ideal": 0, "better": [0, 5, 8], "correl": [0, 5], "best": [0, 4, 5, 8], "found": [0, 1, 2, 4, 5, 6, 8], "mark": 0, "cross": 0, "next": [0, 1, 4, 5, 7], "correlationplot": 0, "scatter": [0, 4], "plot": [0, 5, 6, 9], "versu": [0, 4, 5], "across": 0, "gaussian": [0, 4, 6], "process": [0, 2, 4, 6], "reason": [0, 2, 4, 5, 6], "particularli": [0, 4], "accur": [0, 4], "great": [0, 5, 8], "retrospectivemodelfit": [0, 8], "after": 0, "seen": [0, 4], "also": [0, 2, 4, 5, 6, 8], "seriou": 0, "alreadi": [0, 4, 5, 6, 8], "happen": [0, 4, 6], "difficult": [0, 5], "didn": [0, 5, 8], "most": [0, 3, 4, 5, 6], "likei": 0, "due": 0, "low": [0, 4, 5, 8], "trust": [0, 5], "least": [0, 4, 5, 8], "realiti": [0, 1, 5], "essenti": [0, 5], "nonsens": [0, 5], "confid": 0, "indic": [0, 8], "uncertainti": 0, "blue": [0, 5], "shade": 0, "optimisationlog": [0, 5, 8], "txt": [0, 1, 5, 8], "scroll": [0, 5], "bottom": 0, "guess": [0, 6, 8], "got": 0, "itter": [0, 2], "31": 0, "29": [0, 4], "95": [0, 2, 5], "12": [0, 4, 5], "hvl": 0, "39": [0, 4], "9": [0, 4, 5, 6, 8], "8": [0, 3, 5], "14": [0, 2, 4, 6], "73": [0, 4], "within": [0, 4, 8], "compar": [0, 4, 9], "grid": [0, 4], "search": [0, 7, 8], "approach": [0, 1, 2, 4, 5, 8], "would": [0, 1, 2, 8], "solut": [0, 5, 8], "larger": [0, 4, 8], "than": [0, 1, 4, 8], "context": 0, "singl": [0, 1, 5, 6, 8], "abov": [0, 3, 4, 8], "sensit": [0, 4, 5], "upstream": [0, 4], "largest": 0, "might": [0, 6, 8], "expect": [0, 5, 8], "end": [0, 5, 8], "anoth": [0, 1, 8], "algorithm": [0, 2, 5, 6, 7, 8], "commonli": [0, 2], "appli": [0, 7, 8], "type": [0, 3, 6], "neldermead": [0, 2, 8, 9], "switch": 0, "neldermeadoptimis": [0, 2, 6, 7], "geometryoptimisationtest_nm": 0, "nm_startingsimplex": [0, 6, 8], "previou": [0, 4, 6], "converg": [0, 2, 4, 5, 7], "26": [0, 4], "24": [0, 8], "51": 0, "complex": [0, 3], "tendenc": 0, "stuck": [0, 8], "local": [0, 4, 8], "minima": [0, 8], "howev": [0, 3, 4, 5, 8], "often": [0, 5], "mode": [0, 2], "quickli": [0, 5], "learn": [0, 6, 8], "underli": [0, 4], "effect": [0, 4, 8], "multipl": [0, 4, 6], "includ": [0, 1, 2, 5, 6], "compare_multiple_result": [0, 5, 6], "resultfil": 0, "nm_optapertur": 0, "watertank_itt_39": 0, "bayesoptapertur": 0, "watertank_itt_31": 0, "watertank_itt_0": [0, 5], "c": [0, 5], "bwhe3635": 0, "docsrc": [0, 1], "_resourc": 0, "custom_legend": [0, 5], "custom_legend_nam": [0, 5, 6], "explain": 0, "detail": [0, 1, 3], "step": [0, 1, 4, 5, 7], "section": [0, 4], "simplex": [0, 6], "arbitrarili": 0, "chose": 0, "find": [0, 5, 8], "decid": 0, "rough": 0, "limit": [0, 8, 9], "behind": [1, 8], "scene": [1, 8], "grandiosli": 1, "repositori": [1, 2, 7], "futur": [1, 8], "instal": [1, 3, 6, 7, 9], "librari": [1, 2, 8], "pip": [1, 3, 7], "dev_requir": 1, "mostli": 1, "p": 1, "project": [1, 5, 6], "been": [1, 8], "setup": [1, 3, 5, 9], "base": [1, 4, 5, 6, 8, 9], "tutori": [1, 4], "distribut": 1, "depenc": 1, "cfg": 1, "version": [1, 3, 8], "__init__": 1, "exist": [1, 2, 4, 5, 6], "file": [1, 4, 5, 6, 9], "r": [1, 3, 4], "dist": 1, "upload": 1, "built": 1, "python3": [1, 3], "twine": 1, "testpypi": 1, "real": 1, "set": [1, 6, 7, 9], "up": [1, 6, 7, 8, 9], "run": [1, 2, 3, 4, 6, 8, 9], "pytest": 1, "integr": [1, 6, 8], "unit": 1, "without": [1, 2, 6], "succesfulli": 1, "rosenbrock": [1, 2], "automat": [1, 4, 6], "someon": 1, "git": 1, "push": 1, "manual": [1, 4], "root": 1, "coverag": 1, "report": 1, "99": 1, "docstr": 1, "present": [1, 8], "stat": 1, "doc": 1, "string": [1, 6], "miss": 1, "interrog": 1, "vv": 1, "directori": [1, 4, 6, 9], "github": [1, 6], "exampl": [1, 3, 6, 7, 8], "imag": 1, "resourc": 1, "strictli": 1, "match": [1, 4, 5, 6], "link": [1, 3], "docrsrc": 1, "conf": 1, "py": [1, 2, 3, 4, 9], "example_readm": 1, "readm": [1, 6], "rst": 1, "add": [1, 4, 6], "index": [1, 7], "html": [1, 6], "design": [1, 7], "easi": [1, 8], "basic": [1, 2, 4, 5, 6, 8], "topasoptbaseclass": [1, 6], "necesari": 1, "class": [1, 6], "newoptimis": 1, "sourc": [1, 3, 4, 5, 6], "feel": 1, "free": [1, 6, 8], "super": 1, "_some_supporting_method": 1, "self": [1, 6], "method": [1, 6, 8], "privat": 1, "except": [1, 4], "runoptimis": [1, 2, 4, 6, 8, 9], "restartoptimis": [1, 6, 8], "soft": 1, "formal": [1, 7], "prefix": 1, "underscor": 1, "setupdirectorystructur": [1, 6], "minimis": [1, 2, 6, 8], "blackboxfunct": [1, 6], "inherit": [1, 6], "handi": [1, 5], "even": [1, 4, 8], "love": 1, "consid": [1, 4, 8], "pull": [1, 8], "request": [1, 8], "pleas": [1, 4], "write": [1, 4, 6, 8], "format": 1, "ensur": [1, 6, 8], "documen": 1, "fail": [1, 3, 6], "els": [1, 6, 8], "enough": [1, 2, 4], "ptest": 1, "aim": 2, "peopl": 2, "who": 2, "ad": [2, 4, 7], "optimis": [2, 9], "extend": [2, 8], "intergr": 2, "major": 2, "issu": [2, 6], "mont": [2, 4, 7, 8], "carlo": [2, 4, 7, 8], "slow": 2, "pain": 2, "topa": [2, 4, 5, 6, 9], "emul": 2, "known": 2, "global": 2, "minimum": [2, 5], "kei": [2, 4], "generatetopasscript": [2, 4, 6, 8, 9], "instanti": [2, 4], "dummy_script": 2, "topasobjectivefunct": [2, 4, 6, 8, 9], "enabl": [2, 6, 7], "developmen": 2, "sy": [2, 5], "development_test": 2, "rosen": 2, "y": [2, 5, 6, 8], "testing_mod": 2, "fun": 2, "rosebrock": 2, "ground": [2, 4, 5, 9], "truth": [2, 4, 5, 9], "14th": 2, "nm": [2, 8], "never": 2, "steadili": 2, "toward": 2, "gotten": 2, "close": [2, 5, 8], "manag": 3, "virtual": 3, "topic": 3, "beyond": 3, "scope": 3, "give": [3, 5, 8], "linux": [3, 6], "ubuntu": 3, "scratch": 3, "were": [3, 4, 8], "ubunutu": 3, "18": 3, "04": 3, "similar": [3, 5, 8], "screen": 3, "session": 3, "com": [3, 6], "post": 3, "v": 3, "sudo": 3, "apt": 3, "symbol": 3, "googl": 3, "venv": 3, "topasoptvenv": 3, "activ": 3, "setuptool": 3, "suffici": [3, 8], "manylinux2014": 3, "wheel": 3, "thank": [3, 6], "answer": [3, 8], "stackoverflow": 3, "question": [3, 4, 5], "64095094": 3, "egg": 3, "info": [3, 6], "tmp": 3, "pip3": 3, "u": [3, 5], "__version__": 3, "print": [3, 4, 6], "exit": 3, "deactiv": 3, "leav": 3, "hold": [3, 4], "ctrl": 3, "press": 3, "releas": 3, "renet": 3, "gave": 3, "termin": [3, 6, 8], "kill": 3, "sesson": 3, "instead": [3, 4, 5, 6], "model": [4, 5, 6, 7, 9], "constantli": 4, "total": [4, 5], "n": [4, 6, 8], "easiest": [4, 6], "certainli": 4, "result": [4, 6, 8, 9], "unaccept": 4, "quantifi": 4, "statist": 4, "re": 4, "custom": 4, "As": 4, "geometri": [4, 5, 7, 9], "manifest": 4, "previous": 4, "copi": [4, 5, 6, 9], "modif": 4, "vari": [4, 5], "try": [4, 6, 8], "particle_data": 4, "json": [4, 6], "fp": 4, "load": [4, 6], "n_particl": 4, "filenotfounderror": 4, "rais": 4, "creat": [4, 6, 8, 9], "5000": 4, "int": [4, 6], "generate_identical_sim": 4, "generate_run_all_scripts_shell_script": [4, 6], "expandus": [4, 5, 6], "noise_sim": 4, "is_dir": 4, "mkdir": 4, "n_sims_to_gener": 4, "n_particles_to_investig": 4, "10000": 4, "20000": 4, "30000": 4, "40000": 4, "w": 4, "dump": 4, "sim_directori": 4, "n_particles_": 4, "sim_num": 4, "n_primari": 4, "scriptstorun": 4, "n_sim": 4, "sim1_nam": 4, "sim2_nam": 4, "gah": 4, "sim1": 4, "sim2": 4, "second": 4, "runallfil": 4, "sh": 4, "impli": 4, "parrticl": 4, "addit": [4, 6, 7], "loop": [4, 6], "system": 4, "seri": [4, 6], "shell": 4, "everyth": 4, "bash": [4, 6], "sequenti": 4, "cd": 4, "n_particles_20000": 4, "n_particles_40000": 4, "n_particles_50000": 4, "n_particles_500000": 4, "ahead": 4, "somewhat": 4, "consum": 4, "pre": 4, "continu": [4, 8], "noise_box_plot": 4, "matplotlib": 4, "pyplot": 4, "plt": 4, "plot_gp_model_versus_data": 4, "boxplotdata": 4, "target_predict": 4, "std_predict": 4, "ax": 4, "subplot": 4, "boxplot": 4, "label": 4, "1e4": 4, "2e4": 4, "3e4": 4, "4e4": 4, "5e4": 4, "medianprop": 4, "color": [4, 6], "k": 4, "valueerror": 4, "couldnt": 4, "length": [4, 6], "didnt": 4, "enumer": 4, "set_ylabel": 4, "set_titl": 4, "x_val": 4, "arang": 4, "line1": 4, "c6": 4, "set_xlabel": 4, "fontsiz": 4, "line2": 4, "fill_between": 4, "alpha": [4, 8], "c0": 4, "legend": [4, 6], "sigma": 4, "yourself": 4, "quantify_nois": 4, "get_all_fil": [4, 6], "bayes_opt": 4, "bayesianoptim": [4, 6], "utilityfunct": 4, "sklearn": 4, "gaussian_process": [4, 6], "matern": 4, "whitekernel": 4, "data_dir": 4, "dont": 4, "k1": 4, "length_scal": [4, 6, 8], "k2": 4, "custom_kernel": [4, 6], "pbound": 4, "parameter_valu": 4, "paramnam": 4, "sims_to_investig": 4, "n_particles_10000": 4, "n_particles_30000": 4, "of_result": 4, "len": 4, "j": 4, "data_loc": 4, "kind": 4, "ucb": [4, 6], "kappa": [4, 6], "xi": 4, "none": [4, 6, 8], "verbos": [4, 6], "random_st": 4, "set_gp_param": 4, "objective_valu": 4, "take_ab": 4, "aren": [4, 5, 8], "regist": 4, "weird": 4, "fit": [4, 8], "_gp": 4, "_space": 4, "optimal_param": 4, "dict": 4, "sort": 4, "item": 4, "alphabet": [4, 6], "param_arrai": 4, "fromit": 4, "dtype": 4, "float": [4, 6, 8], "predicted_target": 4, "predicted_std": 4, "reshap": 4, "return_std": 4, "del": 4, "squeez": 4, "discuss": 4, "produc": [4, 5, 6], "observ": 4, "excel": 4, "reassur": 4, "decreas": 4, "increas": [4, 6, 8], "surpris": 4, "perhap": 4, "goe": [4, 8], "defaul": 4, "white": 4, "standard": 4, "appropri": [4, 7], "capabl": 4, "under": 4, "repeatedli": 4, "bwhelan": 4, "phasersim": [4, 5, 6], "10e3": 4, "20e3": 4, "30e3": 4, "40e3": 4, "50e3": 4, "noisy_opt_n_particles_": 4, "topas38": [4, 6], "aspect": [4, 8], "perofmr": 4, "rate": 4, "overal": 4, "retrain": 4, "essenc": 4, "seciton": 4, "infer": 4, "hasn": [4, 8], "stop": [4, 6, 8], "past": 4, "articl": 4, "clunki": 4, "amount": [4, 5], "higher": [4, 6, 8], "associ": 4, "rapid": 4, "lower": [4, 5, 8], "again": [4, 5, 8], "wors": 4, "tabl": [4, 5, 8], "94": 4, "32": 4, "21": 4, "61": 4, "83": 4, "hole": 4, "size": [4, 6, 8], "53": [4, 5], "75": 4, "22": 4, "11": 4, "77": 4, "downstream": 4, "55": 4, "37": 4, "paramat": 4, "apertureoptimis": 5, "geometr": 5, "problem": [5, 7, 8, 9], "five": 5, "simultan": 5, "insensit": 5, "repeat": [5, 6], "phasespaceoptimis": 5, "accross": [5, 6], "simplecollimatorexampl": 5, "topasfil": 5, "phasespaceoptimisationtutorial_bay": 5, "resolv": 5, "beamenergi": 5, "beampositioncutoff": 5, "beampositionspread": 5, "beamangularspread": 5, "beamangularcutoff": 5, "6": 5, "01": [5, 6, 8], "7": 5, "85": 5, "71": 5, "98": 5, "baselin": 5, "tune": 5, "assumpt": [5, 8], "symmetr": 5, "dc": 5, "mev": 5, "beampositioncutoffx": 5, "beampositioncutoffi": 5, "beampositionspreadx": 5, "beampositionspreadi": 5, "beamangularcutoffx": 5, "deg": 5, "beamangularcutoffi": 5, "beamangularspreadx": 5, "07": 5, "beamangularspreadi": 5, "200000": 5, "small": 5, "emphas": 5, "choos": [5, 6], "four": 5, "5824966507848057": 5, "093521167768209": 5, "606637841613118": 5, "265724252124363": 5, "309694887480956": 5, "along": 5, "88": 5, "20": [5, 8], "66": 5, "19": 5, "171": 5, "80": 5, "percentag": [5, 6], "term": 5, "bad": [5, 8], "interest": [5, 8], "address": 5, "seem": [5, 8], "solv": [5, 6], "nelder": [5, 6, 9], "mead": [5, 6, 9], "43": 5, "64": 5, "technic": 5, "outperform": 5, "49": 5, "larg": [5, 8], "data": [5, 6, 7, 8, 9], "mayb": [5, 8], "perform": [5, 6, 9], "resultstocompar": 5, "dropbox": [5, 6], "sydnei": [5, 6], "uni": [5, 6], "phasespaceoptimisationtest": 5, "watertank_itt_95": 5, "phasespaceoptimisationtest_nm": 5, "watertank_itt_65": 5, "randomstartpoint": 5, "yield": 5, "exact": [5, 8], "select": 5, "realm": 5, "prevent": 5, "realli": [5, 8], "overview": [6, 9], "modul": [6, 7], "specif": 6, "bayes_ucbkappa": [6, 8], "bayes_kappadecayiter": [6, 8], "bayes_gp_alpha": [6, 8], "kwd": 6, "bay": [6, 8], "scale": 6, "suppli": 6, "deriv": 6, "specifi": 6, "intern": 6, "explor": 6, "notebook": 6, "decai": 6, "highli": 6, "exploit": 6, "explant": 6, "smooth": [6, 8], "noisi": [6, 7, 9], "overfit": [6, 8], "scikit": 6, "kernel": [6, 8, 9], "stabl": 6, "sometim": [6, 8], "prematur": [6, 8], "restart": 6, "variou": 6, "scipi": [6, 8], "control": [6, 8], "span": [6, 8], "behavior": [6, 8], "altern": 6, "2d": 6, "starting_sim": 6, "72": [6, 8], "minim": 6, "action": 6, "g4dataloc": 6, "g4data": 6, "shellscripthead": 6, "overlap": 6, "common": [6, 8], "intend": 6, "isol": 6, "parpytamet": 6, "written": 6, "header": 6, "normal": 6, "bool": 6, "safer": 6, "recent": 6, "whether": [6, 8], "x_new": 6, "black": [6, 8], "box": [6, 8], "spirit": 6, "abstract": 6, "structur": 6, "otherwis": 6, "attribut": 6, "convert": 6, "recreat": 6, "outputdirectori": 6, "topasscriptloc": 6, "includefilestoragedirectori": 6, "errorcheck": 6, "element": 6, "languag": [6, 8], "detect": 6, "dynam": 6, "portabl": 6, "includefil": 6, "recommend": [6, 8], "support": 6, "belong": 6, "figurespec": 6, "thought": [6, 8], "univers": 6, "axisfonts": 6, "font": 6, "serif": 6, "labelfonts": 6, "titlefonts": 6, "plotlogfil": [6, 8], "logfileloc": [6, 8], "save_loc": 6, "save": 6, "displai": 6, "No": 6, "behaviour": [6, 8], "readinlogfil": [6, 8], "analysispath": 6, "filetoanalys": 6, "absdepthdos": 6, "analys": 6, "rectangular": 6, "phantom": 6, "dosecub": 6, "agreg": 6, "put": 6, "routin": [6, 8], "provid": [6, 8], "oper": 6, "paper_7mm_al": 6, "getallbinfil": 6, "mirrordata": 6, "plot_doseplan": 6, "cube": 6, "xy": 6, "plane": 6, "meshgrid": 6, "xy_data": 6, "messag": 6, "posit": [6, 8], "dimension": [6, 8], "flatten": [6, 8], "interpolateddata": 6, "coordin": 6, "plot_depthdos": 6, "beamlet": 6, "addcolorbar": 6, "cardin": 6, "bar": 6, "plot_profil": 6, "dir": 6, "zpoint": 6, "direct": 6, "plot_xysurfac": 6, "bcolor": 6, "bold": 6, "x1b": 6, "1m": 6, "endc": 6, "0m": 6, "91m": 6, "95m": 6, "okblu": 6, "94m": 6, "okcyan": 6, "96m": 6, "okgreen": 6, "92m": 6, "underlin": 6, "4m": 6, "93m": 6, "binfil": 6, "abs_dos": 6, "boolean": 6, "script_loc": 6, "scripts_to_run": 6, "topas_loc": 6, "g4_data": 6, "execut": 6, "pathtodata": 6, "file_extens": 6, "quick": 6, "analysi": 6, "extens": 6, "dcm": 6, "newjsonlogg": 6, "jsonlogg": 6, "avoid": 6, "annoi": 6, "fmfn": 6, "159": 6, "transform": 7, "radiat": 7, "transport": 7, "topasmc": 7, "henc": 7, "power": 7, "mathemat": 7, "establish": 7, "quickest": 7, "optmis": [7, 9], "packag": 7, "framework": 7, "page": 7, "strongli": 8, "proceed": 8, "liter": 8, "said": 8, "craft": 8, "success": 8, "failur": 8, "let": 8, "trivial": 8, "sai": 8, "mass": 8, "maximis": 8, "strength": 8, "clearli": 8, "fight": 8, "That": 8, "encapsul": 8, "prioriti": 8, "objective_funct": 8, "weight_strength": 8, "weight_mass": 8, "depend": 8, "trial": 8, "eleg": 8, "complic": 8, "via": 8, "pareto": 8, "welcom": 8, "initi": 8, "state": 8, "maximum": 8, "threshold": 8, "strength_suffici": 8, "large_numb": 8, "penalis": 8, "condit": 8, "met": 8, "form": 8, "discontinu": 8, "bconverg": 8, "fast": 8, "sigmoid": 8, "my": 8, "review": 8, "less": 8, "complain": 8, "swarth": 8, "region": 8, "distract": 8, "gradient": 8, "steep": 8, "shallow": 8, "wish": 8, "surpress": 8, "enhanc": 8, "emphasis": 8, "level": [8, 9], "nevertheless": 8, "recomend": 8, "contradict": 8, "advic": 8, "pai": 8, "too": 8, "attent": 8, "anywai": 8, "reslt": 8, "precis": 8, "ultim": 8, "unlik": 8, "optimum": 8, "troubl": 8, "gp": 8, "primarili": 8, "inher": 8, "theoret": 8, "achiev": 8, "logfiledict": 8, "plote": 8, "submiss": 8, "partner": 8, "turn": 8, "One": 8, "nice": 8, "train": 8, "togeth": 8, "fairli": 8, "upper": 8, "littl": 8, "finess": 8, "par1_scal": 8, "par2_scal": 8, "par3_scal": 8, "driven": 8, "plan": 8, "faster": 8, "concept": 8, "tradeoff": 8, "exploratori": 8, "begin": 8, "world": 8, "tend": 8, "haven": 8, "access": 8, "site": 8, "vertic": 8, "dimens": 8, "accord": 8, "rule": 8, "expand": 8, "contract": 8, "shrink": 8, "crucial": 8, "art": 8, "scienc": 8, "exploraratori": 8, "smaller": 8, "thumb": 8, "1d": 8, "05": 8, "replac": 8, "startingsimplex": 8, "environment": 9, "edit": 9, "interpret": 9, "comparison": 9, "improv": 9, "analyz": 9, "newli": 9}, "objects": {"TopasOpt": [[6, 0, 0, "-", "Optimisers"], [6, 0, 0, "-", "TopasScriptGenerator"], [6, 0, 0, "-", "utilities"]], "TopasOpt.Optimisers": [[6, 1, 1, "", "BayesianOptimiser"], [6, 1, 1, "", "NelderMeadOptimiser"], [6, 1, 1, "", "TopasOptBaseClass"]], "TopasOpt.Optimisers.BayesianOptimiser": [[6, 2, 1, "", "RestartOptimisation"], [6, 2, 1, "", "RunOptimisation"]], "TopasOpt.Optimisers.NelderMeadOptimiser": [[6, 2, 1, "", "RunOptimisation"]], "TopasOpt.Optimisers.TopasOptBaseClass": [[6, 2, 1, "", "BlackBoxFunction"], [6, 2, 1, "", "RunOptimisation"], [6, 2, 1, "", "SetUpDirectoryStructure"]], "TopasOpt.TopasScriptGenerator": [[6, 1, 1, "", "generate_topas_script_generator"]], "TopasOpt.utilities": [[6, 1, 1, "", "FigureSpecs"], [6, 4, 1, "", "PlotLogFile"], [6, 4, 1, "", "ReadInLogFile"], [6, 1, 1, "", "WaterTankData"], [6, 1, 1, "", "bcolors"], [6, 4, 1, "", "compare_multiple_results"], [6, 4, 1, "", "generate_run_all_scripts_shell_script"], [6, 4, 1, "", "get_all_files"], [6, 1, 1, "", "newJSONLogger"]], "TopasOpt.utilities.FigureSpecs": [[6, 3, 1, "", "AxisFontSize"], [6, 3, 1, "", "Font"], [6, 3, 1, "", "LabelFontSize"], [6, 3, 1, "", "TitleFontSize"]], "TopasOpt.utilities.WaterTankData": [[6, 2, 1, "", "ExtractDataFromDoseCube"], [6, 2, 1, "", "Plot_DepthDose"], [6, 2, 1, "", "Plot_DosePlanes"], [6, 2, 1, "", "Plot_Profiles"], [6, 2, 1, "", "Plot_XYsurface"]], "TopasOpt.utilities.bcolors": [[6, 3, 1, "", "BOLD"], [6, 3, 1, "", "ENDC"], [6, 3, 1, "", "FAIL"], [6, 3, 1, "", "HEADER"], [6, 3, 1, "", "OKBLUE"], [6, 3, 1, "", "OKCYAN"], [6, 3, 1, "", "OKGREEN"], [6, 3, 1, "", "UNDERLINE"], [6, 3, 1, "", "WARNING"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method", "3": "py:attribute", "4": "py:function"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"], "3": ["py", "attribute", "Python attribute"], "4": ["py", "function", "Python function"]}, "titleterms": {"geometri": 0, "optimis": [0, 1, 4, 5, 6, 7, 8], "exampl": [0, 2, 4, 5, 9], "environment": 0, "set": [0, 2, 3, 4, 5, 8], "up": [0, 2, 3, 4, 5], "instal": 0, "base": [0, 2], "model": [0, 8], "problem": 0, "overview": 0, "directori": [0, 2, 5], "copi": 0, "topa": [0, 7], "file": [0, 8], "creat": [0, 5], "generatetopasscript": [0, 5], "py": [0, 5], "runoptimis": [0, 5], "edit": [0, 5], "topasobjectivefunct": [0, 5], "run": [0, 5], "interpret": 0, "result": [0, 2, 5], "comparison": 0, "nelder": 0, "mead": 0, "ground": 0, "truth": 0, "data": [0, 4], "improv": [0, 8], "develop": [1, 2], "note": 1, "addit": 1, "requir": 1, "packag": 1, "instruct": 1, "test": 1, "framework": 1, "build": 1, "document": [1, 6], "ad": 1, "new": 1, "algorithm": 1, "limit": 2, "environ": 3, "handl": [4, 8], "noisi": [4, 8], "setup": 4, "gener": 4, "simul": 4, "differ": 4, "level": 4, "nois": [4, 8], "plot": [4, 8], "function": [4, 8], "assess": [4, 8], "object": [4, 8], "pass": 4, "newli": 4, "construct": 4, "kernel": 4, "topasopt": 4, "perform": 4, "phase": 5, "space": 5, "optmis": 5, "analyz": 5, "neldermead": 5, "compar": 5, "code": 6, "topasscriptgener": 6, "util": 6, "content": [7, 9], "indic": 7, "tabl": 7, "next": 8, "step": 8, "design": 8, "compet": 8, "hard": 8, "boundari": 8, "log": 8, "constraint": 8, "converg": 8, "criteria": 8, "all": 8, "accuraci": 8, "read": 8, "previou": 8, "bayesianoptimis": 8, "restart": 8, "an": 8, "load": 8, "interact": 8, "gaussian": 8, "process": 8, "length": 8, "scale": 8, "tune": 8, "explor": 8, "exploit": 8, "For": 8, "core": 8, "nerd": 8, "neldermeadoptimis": 8, "choos": 8, "start": 8, "simplex": 8, "work": 9}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.todo": 2, "sphinx": 60}, "alltitles": {"Geometry Optimisation Example": [[0, "geometry-optimisation-example"]], "Environmental set up and installation": [[0, "environmental-set-up-and-installation"]], "Base model and problem overview": [[0, "base-model-and-problem-overview"]], "directory set up": [[0, "directory-set-up"]], "Copy the base topas files": [[0, "copy-the-base-topas-files"]], "Creating GenerateTopasScript.py": [[0, "creating-generatetopasscript-py"], [5, "creating-generatetopasscript-py"]], "Creating RunOptimisation.py": [[0, "creating-runoptimisation-py"], [5, "creating-runoptimisation-py"]], "Editing GenerateTopasScript.py": [[0, "editing-generatetopasscript-py"], [5, "editing-generatetopasscript-py"]], "Creating TopasObjectiveFunction.py": [[0, "creating-topasobjectivefunction-py"]], "Running the example": [[0, "running-the-example"], [5, "running-the-example"]], "Interpreting the results": [[0, "interpreting-the-results"]], "Comparison with Nelder-Mead optimiser": [[0, "comparison-with-nelder-mead-optimiser"]], "Comparison with ground truth data": [[0, "comparison-with-ground-truth-data"]], "Improving these results": [[0, "improving-these-results"]], "Developer Notes": [[1, "developer-notes"]], "Additional requirements": [[1, "additional-requirements"]], "Packaging instructions": [[1, "packaging-instructions"]], "Testing framework": [[1, "testing-framework"]], "Building documentation": [[1, "building-documentation"]], "Adding new optimisation algorithms": [[1, "adding-new-optimisation-algorithms"]], "Development example": [[2, "development-example"]], "Set up base directory": [[2, "set-up-base-directory"]], "Limitations": [[2, "limitations"]], "Results": [[2, "results"]], "Environment set up": [[3, "environment-set-up"]], "Handling noisy data": [[4, "handling-noisy-data"]], "Setup example": [[4, "setup-example"]], "Generating simulations with different level of noise": [[4, "generating-simulations-with-different-level-of-noise"]], "Set up a plotting function": [[4, "set-up-a-plotting-function"]], "Assessing noise in the objective function": [[4, "assessing-noise-in-the-objective-function"]], "Passing the newly constructed kernel to TopasOpt": [[4, "passing-the-newly-constructed-kernel-to-topasopt"]], "Assessing optimiser performance": [[4, "assessing-optimiser-performance"]], "Phase space optmisation example": [[5, "phase-space-optmisation-example"]], "Directory set up": [[5, "directory-set-up"]], "Create TopasObjectiveFunction.py": [[5, "create-topasobjectivefunction-py"]], "Analyzing the results": [[5, "analyzing-the-results"]], "NelderMead Optimiser": [[5, "neldermead-optimiser"]], "Comparing the results:": [[5, "comparing-the-results"]], "Code documentation": [[6, "code-documentation"]], "Optimisers": [[6, "module-TopasOpt.Optimisers"]], "TopasScriptGenerator": [[6, "module-TopasOpt.TopasScriptGenerator"]], "utilities": [[6, "module-TopasOpt.utilities"]], "Optimisation for Topas": [[7, "optimisation-for-topas"]], "Contents:": [[7, null], [9, null]], "Indices and tables": [[7, "indices-and-tables"]], "Next steps": [[8, "next-steps"]], "Designing objective functions": [[8, "designing-objective-functions"]], "Competing objectives": [[8, "competing-objectives"]], "Hard boundaries": [[8, "hard-boundaries"]], "Log of objective function": [[8, "log-of-objective-function"]], "Handling constraints": [[8, "handling-constraints"]], "Assess noise in the objective function": [[8, "assess-noise-in-the-objective-function"]], "Convergence criteria": [[8, "convergence-criteria"]], "All Optimisers": [[8, "all-optimisers"]], "Improving accuracy": [[8, "improving-accuracy"]], "read in and plot a previous log file": [[8, "read-in-and-plot-a-previous-log-file"]], "BayesianOptimiser": [[8, "bayesianoptimiser"]], "Restart an optimisation": [[8, "restart-an-optimisation"]], "Load and interact with the gaussian process model": [[8, "load-and-interact-with-the-gaussian-process-model"]], "Setting length scales in the gaussian process model": [[8, "setting-length-scales-in-the-gaussian-process-model"]], "Tuning exploration/ exploitation": [[8, "tuning-exploration-exploitation"]], "Handling noisy objective functions": [[8, "handling-noisy-objective-functions"]], "For the hard core nerds\u2026": [[8, "for-the-hard-core-nerds"]], "NelderMeadOptimiser": [[8, "neldermeadoptimiser"]], "Choose the starting simplex": [[8, "choose-the-starting-simplex"]], "Worked Examples": [[9, "worked-examples"]]}, "indexentries": {"axisfontsize (topasopt.utilities.figurespecs attribute)": [[6, "TopasOpt.utilities.FigureSpecs.AxisFontSize"]], "bold (topasopt.utilities.bcolors attribute)": [[6, "TopasOpt.utilities.bcolors.BOLD"]], "bayesianoptimiser (class in topasopt.optimisers)": [[6, "TopasOpt.Optimisers.BayesianOptimiser"]], "blackboxfunction() (topasopt.optimisers.topasoptbaseclass method)": [[6, "TopasOpt.Optimisers.TopasOptBaseClass.BlackBoxFunction"]], "endc (topasopt.utilities.bcolors attribute)": [[6, "TopasOpt.utilities.bcolors.ENDC"]], "extractdatafromdosecube() (topasopt.utilities.watertankdata method)": [[6, "TopasOpt.utilities.WaterTankData.ExtractDataFromDoseCube"]], "fail (topasopt.utilities.bcolors attribute)": [[6, "TopasOpt.utilities.bcolors.FAIL"]], "figurespecs (class in topasopt.utilities)": [[6, "TopasOpt.utilities.FigureSpecs"]], "font (topasopt.utilities.figurespecs attribute)": [[6, "TopasOpt.utilities.FigureSpecs.Font"]], "header (topasopt.utilities.bcolors attribute)": [[6, "TopasOpt.utilities.bcolors.HEADER"]], "labelfontsize (topasopt.utilities.figurespecs attribute)": [[6, "TopasOpt.utilities.FigureSpecs.LabelFontSize"]], "neldermeadoptimiser (class in topasopt.optimisers)": [[6, "TopasOpt.Optimisers.NelderMeadOptimiser"]], "okblue (topasopt.utilities.bcolors attribute)": [[6, "TopasOpt.utilities.bcolors.OKBLUE"]], "okcyan (topasopt.utilities.bcolors attribute)": [[6, "TopasOpt.utilities.bcolors.OKCYAN"]], "okgreen (topasopt.utilities.bcolors attribute)": [[6, "TopasOpt.utilities.bcolors.OKGREEN"]], "plotlogfile() (in module topasopt.utilities)": [[6, "TopasOpt.utilities.PlotLogFile"]], "plot_depthdose() (topasopt.utilities.watertankdata method)": [[6, "TopasOpt.utilities.WaterTankData.Plot_DepthDose"]], "plot_doseplanes() (topasopt.utilities.watertankdata method)": [[6, "TopasOpt.utilities.WaterTankData.Plot_DosePlanes"]], "plot_profiles() (topasopt.utilities.watertankdata method)": [[6, "TopasOpt.utilities.WaterTankData.Plot_Profiles"]], "plot_xysurface() (topasopt.utilities.watertankdata method)": [[6, "TopasOpt.utilities.WaterTankData.Plot_XYsurface"]], "readinlogfile() (in module topasopt.utilities)": [[6, "TopasOpt.utilities.ReadInLogFile"]], "restartoptimisation() (topasopt.optimisers.bayesianoptimiser method)": [[6, "TopasOpt.Optimisers.BayesianOptimiser.RestartOptimisation"]], "runoptimisation() (topasopt.optimisers.bayesianoptimiser method)": [[6, "TopasOpt.Optimisers.BayesianOptimiser.RunOptimisation"]], "runoptimisation() (topasopt.optimisers.neldermeadoptimiser method)": [[6, "TopasOpt.Optimisers.NelderMeadOptimiser.RunOptimisation"]], "runoptimisation() (topasopt.optimisers.topasoptbaseclass method)": [[6, "TopasOpt.Optimisers.TopasOptBaseClass.RunOptimisation"]], "setupdirectorystructure() (topasopt.optimisers.topasoptbaseclass method)": [[6, "TopasOpt.Optimisers.TopasOptBaseClass.SetUpDirectoryStructure"]], "titlefontsize (topasopt.utilities.figurespecs attribute)": [[6, "TopasOpt.utilities.FigureSpecs.TitleFontSize"]], "topasopt.optimisers": [[6, "module-TopasOpt.Optimisers"]], "topasopt.topasscriptgenerator": [[6, "module-TopasOpt.TopasScriptGenerator"]], "topasopt.utilities": [[6, "module-TopasOpt.utilities"]], "topasoptbaseclass (class in topasopt.optimisers)": [[6, "TopasOpt.Optimisers.TopasOptBaseClass"]], "underline (topasopt.utilities.bcolors attribute)": [[6, "TopasOpt.utilities.bcolors.UNDERLINE"]], "warning (topasopt.utilities.bcolors attribute)": [[6, "TopasOpt.utilities.bcolors.WARNING"]], "watertankdata (class in topasopt.utilities)": [[6, "TopasOpt.utilities.WaterTankData"]], "bcolors (class in topasopt.utilities)": [[6, "TopasOpt.utilities.bcolors"]], "compare_multiple_results() (in module topasopt.utilities)": [[6, "TopasOpt.utilities.compare_multiple_results"]], "generate_run_all_scripts_shell_script() (in module topasopt.utilities)": [[6, "TopasOpt.utilities.generate_run_all_scripts_shell_script"]], "generate_topas_script_generator (class in topasopt.topasscriptgenerator)": [[6, "TopasOpt.TopasScriptGenerator.generate_topas_script_generator"]], "get_all_files() (in module topasopt.utilities)": [[6, "TopasOpt.utilities.get_all_files"]], "module": [[6, "module-TopasOpt.Optimisers"], [6, "module-TopasOpt.TopasScriptGenerator"], [6, "module-TopasOpt.utilities"]], "newjsonlogger (class in topasopt.utilities)": [[6, "TopasOpt.utilities.newJSONLogger"]]}})